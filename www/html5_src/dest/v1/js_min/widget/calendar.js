define(function(require,exports){function initCalendar(){buildYearPanel(year+1),datePanel(date),$(".curr-y").text(year),$(".curr-m").text(month)}function buildYearPanel(year){for(var startYear=year-101,$container=$(".year-panel-container"),frag=document.createDocumentFragment(),i=1;102>=i;i++){var oDiv=document.createElement("li");if(oDiv.innerHTML=startYear,frag.appendChild(oDiv),startYear++,i%12==0||102==i){var $div=$("<ul class='year-panel'></ul>");$div.append(frag),$container.append($div),frag=document.createDocumentFragment()}}}function datePanel(d){d.setDate(1);var n=1-d.getDay();1==n&&(n=-6),d.setDate(n);for(var frag=document.createDocumentFragment(),$div=$("<div class='day-panel'></div>"),i=0;42>i;i++){var oDiv=document.createElement("div");oDiv.innerHTML=d.getDate(),frag.appendChild(oDiv),d.setDate(1+d.getDate())}$div.append(frag),$(".dayNum").append($div)}require("zepto-ext"),require("widget/touchSlide");var date=new Date,year=date.getFullYear(),month=date.getMonth()+1;date.getDate();initCalendar()});